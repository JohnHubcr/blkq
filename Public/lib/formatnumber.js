function formatNumber(e,j){var m=e?e.toString().split("."):["0"];var a=j?j.split("."):[""];var h="";var k=m[0];var b=a[0];var d=k.length-1;var n=false;for(var g=b.length-1;g>=0;g--){switch(b.substr(g,1)){case"#":if(d>=0){h=k.substr(d--,1)+h}break;case"0":if(d>=0){h=k.substr(d--,1)+h}else{h="0"+h}break;case",":n=true;h=","+h;break}}if(d>=0){if(n){var c=k.length;for(;d>=0;d--){h=k.substr(d,1)+h;if(d>0&&((c-d)%3)==0){h=","+h}}}else{h=k.substr(0,d+1)+h}}h=h+".";k=m.length>1?m[1]:"";b=a.length>1?a[1]:"";d=0;for(var g=0;g<b.length;g++){switch(b.substr(g,1)){case"#":if(d<k.length){h+=k.substr(d++,1)}break;case"0":if(d<k.length){h+=k.substr(d++,1)}else{h+="0"}break}}return h.replace(/^,+/,"").replace(/\.$/,"")};